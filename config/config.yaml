project:
  name: hubspot-ml-framework
  version: "1.0.0"
  description: "Prospect conversion modeling sandbox"

data:
  loader_type: csv
  sources:
    customers: data/raw/customers.csv
    noncustomers: data/raw/noncustomers.csv
    usage_actions: data/raw/usage_actions.csv
  id_column: company_id
  target_column: is_customer

features:
  transformers:
    - type: fillna
      strategy: median
    - type: categorical
      columns: [EMPLOYEE_RANGE, INDUSTRY]
      encoding: onehot
    - type: datetime
      columns: [LAST_ACTIVE_AT]
      reference_date: "2024-12-31"

training:
  cv_folds: 5
  test_size: 0.2
  val_size: 0.1
  random_state: 42
  stratify: true
  models:
    - name: logistic_baseline
      type: sklearn.logistic_regression
      enabled: true
      param_grid:
        C: [0.1, 1.0, 10.0]
        penalty: ["l2"]
        solver: ["lbfgs"]
    - name: random_forest
      type: sklearn.random_forest
      enabled: true
      param_grid:
        n_estimators: [200, 300]
        max_depth: [10, 20]
        min_samples_split: [2, 5]

tracking:
  backend: mlflow
  tracking_uri: "file:./mlflow"
  experiment_name: hubspot_conversion
  run_name_prefix: leadscore
  registry:
    model_name: hubspot_conversion_model
    stage: Production

serving:
  host: 0.0.0.0
  port: 8000
  model_name: hubspot_conversion_model
  model_stage: Production
  enable_metrics: true
  workers: 1
  local_model_path: models/best.joblib
