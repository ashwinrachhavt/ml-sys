{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "MLSys Configuration",
  "type": "object",
  "required": ["project", "data", "training", "tracking", "serving"],
  "properties": {
    "project": {
      "type": "object",
      "required": ["name"],
      "properties": {
        "name": {"type": "string"},
        "version": {"type": "string"},
        "description": {"type": "string"}
      }
    },
    "data": {
      "type": "object",
      "required": ["loader_type", "sources", "id_column", "target_column"],
      "properties": {
        "loader_type": {"type": "string"},
        "sources": {
          "type": "object",
          "additionalProperties": {"type": "string"}
        },
        "id_column": {"type": "string"},
        "target_column": {"type": "string"}
      }
    },
    "features": {
      "type": "object",
      "properties": {
        "transformers": {
          "type": "array",
          "items": {
            "type": "object",
            "required": ["type"],
            "properties": {
              "type": {"type": "string"},
              "columns": {
                "type": "array",
                "items": {"type": "string"}
              }
            }
          }
        }
      }
    },
    "training": {
      "type": "object",
      "required": ["models"],
      "properties": {
        "models": {
          "type": "array",
          "items": {
            "type": "object",
            "required": ["name", "type"],
            "properties": {
              "name": {"type": "string"},
              "type": {"type": "string"},
              "enabled": {"type": "boolean"}
            }
          }
        }
      }
    },
    "tracking": {
      "type": "object",
      "properties": {
        "backend": {"type": "string"},
        "tracking_uri": {"type": "string"},
        "experiment_name": {"type": "string"}
      }
    },
    "serving": {
      "type": "object",
      "required": ["model_name", "model_stage"],
      "properties": {
        "host": {"type": "string"},
        "port": {"type": "integer"},
        "model_name": {"type": "string"},
        "model_stage": {"type": "string"}
      }
    }
  }
}
